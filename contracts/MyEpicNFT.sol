// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.0;

import "hardhat/console.sol";
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/utils/Counters.sol";
import "hardhat/console.sol";

contract ColorfulTrooperNFT is ERC721URIStorage {
    using Counters for Counters.Counter;
    Counters.Counter private _tokerIds;

    constructor() ERC721("Colorful Trooper", "TROOP") {
        console.log("This is the Colorful Trooper NFT Contract!");
    }

    function make() public {
        //get the current ID
        uint256 newItemId = _tokerIds.current();

        // mint the NFT to the sender using msg.sender
        _safeMint(msg.sender, newItemId);

        // set the NFT data
        _setTokenURI(
            newItemId,
            "data:application/json;base64,ewogICAgIm5hbWUiOiJDb2xvcmZ1bCBUcm9vcGVyIiwKICAgICJkZXNjcmlwdGlvbiI6IkEgQ29sb3JmdWwgTkZUIFRyb29wZXIiLAogICAgImltYWdlIjoKICAgICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNek0ySWlCb1pXbG5hSFE5SWpNek5pSWdkbWxsZDBKdmVEMGlNQ0F3SURnNExqa2dPRGd1T1NJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWo0S0lDQThjR0YwYUNCemRIbHNaVDBpWkdsemNHeGhlVHBwYm14cGJtVTdiV2w0TFdKc1pXNWtMVzF2WkdVNmMyTnlaV1Z1TzJacGJHdzZJMlptWmp0bWFXeHNMVzl3WVdOcGRIazZNVHR6ZEhKdmEyVXRkMmxrZEdnNkxqSTJNRFkwT0R0emRISnZhMlV0YkdsdVpXTmhjRHB5YjNWdVpEdHpkSEp2YTJVdGJHbHVaV3B2YVc0NmNtOTFibVE3Y0dGcGJuUXRiM0prWlhJNlptbHNiQ0J0WVhKclpYSnpJSE4wY205clpTSWdaRDBpVFM0eU1pNDBNelJvT0RndU9UQXhkamc0TGpsSUxqSXllaUl2UGdvZ0lEeHdZWFJvSUdROUlrMDFOQzQ1TmlBMk1pNHlOek5vTXk0eU5EUjJMVE11TXpRM1NEVTBMamsyZW0wdE1qSXVOelE1SURCb015NHlORFoyTFRNdU16UTNTRE15TGpJeGVpSWdjM1I1YkdVOUltUnBjM0JzWVhrNmFXNXNhVzVsTzJacGJHdzZJekF3TUR0bWFXeHNMVzl3WVdOcGRIazZNVHR6ZEhKdmEyVXRkMmxrZEdnNk1TNDBNemMwT1NJdlBnb2dJRHh3WVhSb0lHUTlJazAxTkM0NU5pQTFNaTR5TXpob0xTNHdNREY2YlMweU1pNDNORGtnTUdndE5pNDFNRE42VFRVMExqazJJRFl5TGpJM00yZ3pMakkwTlhZdE15NHpORGRJTlRRdU9UWjZiUzB5TWk0M05Ea2dNR2d6TGpJME5uWXRNeTR6TkRkSU16SXVNakY2YlRJMUxqazVNeTB4TUM0d016Vm9OaTQxTUROdE1DQXdkakV3TGpBek5XZ3pMakkwTmxZMU1pNHlNemg2YlMwekxqSTFNU0F4TXk0ek56Wm9NeTR5TlRGMkxUTXVNelF4YUMwekxqSTFNWHB0TFRrdU56UTRJREIyTFRNdU16UXhhQzB6TGpJMU1uWXRNeTR6TkRkSU5ERXVPVFoyTXk0ek5EZG9MVE11TWpVeGRqTXVNelJJTWpndU9UWjJNeTR6TkRob01UTjJMVE11TXpRM2FEWXVORGszZGpNdU16UTNhREV6ZGkwekxqTTBOM3B0TFRJMkxUTXVNelF4ZGpNdU16Um9NeTR5TlRKMkxUTXVNelI2YlRBdE1UQXVNRE0xYUMwekxqSTBOWFl4TUM0d016Vm9NeTR5TkRWNlRUSTRMamsySURNNExqZzFObFkwT0M0NE9XZ3pMakkxTVhZekxqTTBOMmd0Tmk0MU1ETldNemd1T0RVMlRUVTRMakl3TkNBME9DNDRPWFl6TGpNME4yZzJMalV3TTFZek9DNDROVFpvTFRNdU1qVXlWalE0TGpnNWVpSWdjM1I1YkdVOUltUnBjM0JzWVhrNmFXNXNhVzVsTzJacGJHdzZJekF3TUR0bWFXeHNMVzl3WVdOcGRIazZNVHR6ZEhKdmEyVXRkMmxrZEdnNkxqQXpORE00T0RVaUx6NEtJQ0E4Y0dGMGFDQmtQU0pOTlRRdU9UWWdOVEl1TWpNNGFDMHpMakkxTW5ZdE15NHpORGRvTFRNdU1qVXlkaTB6TGpNME4wZzBNUzQ1Tm5ZekxqTTBOMmd0TXk0eU5URjJNeTR6TkRkb0xUTXVNalV5ZGpNdU16UklOVFF1T1RaMkxUTXVNelI2SWlCemRIbHNaVDBpWkdsemNHeGhlVHBwYm14cGJtVTdabWxzYkRvak1EQXdPMlpwYkd3dGIzQmhZMmwwZVRveE8zTjBjbTlyWlMxM2FXUjBhRG94TGpRek56UTVJaTgrQ2lBZ1BIQmhkR2dnYzNSNWJHVTlJbVJwYzNCc1lYazZhVzVzYVc1bE8yWnBiR3c2STJabVpqdG1hV3hzTFc5d1lXTnBkSGs2TVR0emRISnZhMlV0ZDJsa2RHZzZMakkzTVRZMU1qdHpkSEp2YTJVdGJHbHVaV05oY0RweWIzVnVaRHR6ZEhKdmEyVXRiR2x1WldwdmFXNDZjbTkxYm1RN2NHRnBiblF0YjNKa1pYSTZabWxzYkNCdFlYSnJaWEp6SUhOMGNtOXJaU0lnWkQwaVRUTXlMakV6TlNBeU1pNHdNakZvTWpZdU1EQXpkakV6TGpNNE1rZ3pNaTR4TXpWNklpOCtDaUFnUEhCaGRHZ2daRDBpVFRNMUxqTTRJREl5TGpBeU1YWXRNeTR6TkdneE9TNDFNRE4yTXk0ek5FZ3pOUzR6T0RGYWJUQWdNR2d0TXk0eU5EVjJNeTR6TkRob015NHlORFo2YlRJeUxqYzBPQ0F6TGpNME4zWXRNeTR6TkRkb0xUTXVNalExZGpNdU16UTNlbTB3SURCSU16SXVNVE0xSWlCemRIbHNaVDBpWkdsemNHeGhlVHBwYm14cGJtVTdabWxzYkRvak1EQXdPMlpwYkd3dGIzQmhZMmwwZVRveE8zTjBjbTlyWlMxM2FXUjBhRG94TGpRek56UTVJaTgrQ2lBZ1BIQmhkR2dnWkQwaVRUTXlMakUwTkNBek9DNDNOVEYyTFRNdU16UTNhREkxTGprNU5IWXpMak0wTjJnekxqSTFNVll5TlM0ek4yZ3RNeTR5TlRGMk5pNDJPRGRJTXpJdU1UUTBWakkxTGpNM2FDMHpMakkxTVZZek9DNDNOU0lnYzNSNWJHVTlJbVJwYzNCc1lYazZhVzVzYVc1bE8yWnBiR3c2SXpBd01EdG1hV3hzTFc5d1lXTnBkSGs2TVR0emRISnZhMlV0ZDJsa2RHZzZMakF6TkRNNE9EVWlMejRLSUNBOGNHRjBhQ0JrUFNKTk16SXVNVFEwSURRMUxqVTBOR2cyTGpVMk5IWXRNeTR6TkRkb015NHlOVFoyTFRNdU16YzRiQzA1TGpnek5DNHdNWG9pSUhOMGVXeGxQU0prYVhOd2JHRjVPbWx1YkdsdVpUdG1hV3hzT2lNd01EQTdabWxzYkMxdmNHRmphWFI1T2pFN2MzUnliMnRsTFhkcFpIUm9PakV1TkRNM05Ea2lMejRLSUNBOGNHRjBhQ0JrUFNKTk5UZ3VNVEkxSURRMUxqVTBOR2d0Tmk0ek9ESjJMVE11TXpRM2FDMHpMakl5YkMwdU1ERXRNeTR6Tnpob09TNDJNVEo2SWlCemRIbHNaVDBpWkdsemNHeGhlVHBwYm14cGJtVTdabWxzYkRvak1EQXdPMlpwYkd3dGIzQmhZMmwwZVRveE8zTjBjbTlyWlMxM2FXUjBhRG94TGpRek1qWXhJaTgrQ2p3dmMzWm5QZ289Igp9"
        );
        console.log(
            "An NFT w/ ID %s has been minted to %s",
            newItemId,
            msg.sender
        );

        //increment the counter
        _tokerIds.increment();
    }
}
